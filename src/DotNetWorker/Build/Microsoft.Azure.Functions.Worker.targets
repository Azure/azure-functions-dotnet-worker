<!--
***********************************************************************************************
Microsoft.Azure.Functions.Worker.targets

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

***********************************************************************************************
-->
<Project ToolsVersion="14.0"
         xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <Target Name="Replace" AfterTargets="CoreCompile">
    <PropertyGroup>
      <InputFile>$(MSBuildThisFileDirectory)\..\content\worker.config.json</InputFile>
      <OutputFile>$(TargetDir)\worker.config.json</OutputFile>
    </PropertyGroup>
    <WriteLinesToFile
        File="$(OutputFile)"
        Lines="$([System.IO.File]::ReadAllText($(InputFile)).Replace('$functionAssembly$', $(TargetFileName)))"
        Overwrite="true"
        Encoding="Unicode"/>
  </Target>

</Project>